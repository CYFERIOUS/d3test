{"version":3,"sources":["controller.js"],"names":["position","this","style","d","x","y","Math","max","dx","dy","margin","top","right","bottom","left","width","height","color","d3","scale","category20c","treemap","layout","size","sticky","value","div","select","append","json","error","root","node","datum","selectAll","data","nodes","enter","attr","call","children","name","text","on","transition","duration"],"mappings":"AA0CA,QAAAA,YACAC,KAAAC,MAAA,OAAA,SAAAC,GAAA,MAAAA,GAAAC,EAAA,OACAF,MAAA,MAAA,SAAAC,GAAA,MAAAA,GAAAE,EAAA,OACAH,MAAA,QAAA,SAAAC,GAAA,MAAAG,MAAAC,IAAA,EAAAJ,EAAAK,GAAA,GAAA,OACAN,MAAA,SAAA,SAAAC,GAAA,MAAAG,MAAAC,IAAA,EAAAJ,EAAAM,GAAA,GAAA,OA9CA,GAAAC,SAAAC,IAAA,IAAAC,MAAA,GAAAC,OAAA,GAAAC,KAAA,IACAC,MAAA,IAAAL,OAAAI,KAAAJ,OAAAE,MACAI,OAAA,IAAAN,OAAAC,IAAAD,OAAAG,OAEAI,MAAAC,GAAAC,MAAAC,cAEAC,QAAAH,GAAAI,OAAAD,UACAE,MAAAR,MAAAC,SACAQ,QAAA,GACAC,MAAA,SAAAtB,GAAA,MAAAA,GAAAoB,OAEAG,IAAAR,GAAAS,OAAA,QAAAC,OAAA,OACA1B,MAAA,WAAA,YACAA,MAAA,QAAAa,MAAAL,OAAAI,KAAAJ,OAAAE,MAAA,MACAV,MAAA,SAAAc,OAAAN,OAAAC,IAAAD,OAAAG,OAAA,MACAX,MAAA,OAAAQ,OAAAI,KAAA,MACAZ,MAAA,MAAAQ,OAAAC,IAAA,KAEAO,IAAAW,KAAA,gBAAA,SAAAC,EAAAC,GACA,GAAAD,EAAA,KAAAA,EAEA,IAAAE,GAAAN,IAAAO,MAAAF,GAAAG,UAAA,SACAC,KAAAd,QAAAe,OACAC,QAAAT,OAAA,OACAU,KAAA,QAAA,QACAC,KAAAvC,UACAE,MAAA,aAAA,SAAAC,GAAA,MAAAA,GAAAqC,SAAAvB,MAAAd,EAAAsC,MAAA,OACAC,KAAA,SAAAvC,GAAA,MAAAA,GAAAqC,SAAA,KAAArC,EAAAsC,MAEAvB,IAAAgB,UAAA,SAAAS,GAAA,SAAA,WACA,GAAAlB,GAAA,UAAAxB,KAAAwB,MACA,WAAA,MAAA,IACA,SAAAtB,GAAA,MAAAA,GAAAoB,KAEAS,GACAG,KAAAd,QAAAI,MAAAA,GAAAW,OACAQ,aACAC,SAAA,MACAN,KAAAvC","file":"../js/d3.min.js","sourcesContent":["var margin = {top: 100, right: 10, bottom: 10, left: 10},\r\n    width = 960 - margin.left - margin.right,\r\n    height = 500 - margin.top - margin.bottom;\r\n\r\nvar color = d3.scale.category20c();\r\n\r\nvar treemap = d3.layout.treemap()\r\n    .size([width, height])\r\n    .sticky(true)\r\n    .value(function(d) { return d.size; });\r\n\r\nvar div = d3.select(\"body\").append(\"div\")\r\n    .style(\"position\", \"relative\")\r\n    .style(\"width\", (width + margin.left + margin.right) + \"px\")\r\n    .style(\"height\", (height + margin.top + margin.bottom) + \"px\")\r\n    .style(\"left\", margin.left + \"px\")\r\n    .style(\"top\", margin.top + \"px\");\r\n\r\nd3.json(\"js/flare.json\", function(error, root) {\r\n  if (error) throw error;\r\n\r\n  var node = div.datum(root).selectAll(\".node\")\r\n      .data(treemap.nodes)\r\n    .enter().append(\"div\")\r\n      .attr(\"class\", \"node\")\r\n      .call(position)\r\n      .style(\"background\", function(d) { return d.children ? color(d.name) : null; })\r\n      .text(function(d) { return d.children ? null : d.name; });\r\n\r\n  d3.selectAll(\"input\").on(\"change\", function change() {\r\n    var value = this.value === \"count\"\r\n        ? function() { return 1; }\r\n        : function(d) { return d.size; };\r\n\r\n    node\r\n        .data(treemap.value(value).nodes)\r\n      .transition()\r\n        .duration(1500)\r\n        .call(position);\r\n  });\r\n});\r\n\r\nfunction position() {\r\n  this.style(\"left\", function(d) { return d.x + \"px\"; })\r\n      .style(\"top\", function(d) { return d.y + \"px\"; })\r\n      .style(\"width\", function(d) { return Math.max(0, d.dx - 1) + \"px\"; })\r\n      .style(\"height\", function(d) { return Math.max(0, d.dy - 1) + \"px\"; });\r\n}\r\n\r\n"]}